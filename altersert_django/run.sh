#!/bin/bash

# Скрипт для запуска проекта Альтер Серт

echo "=========================================="
echo "Запуск проекта Альтер Серт"
echo "=========================================="

# Проверяем наличие виртуального окружения
if [ -d "venv" ]; then
    echo "Активация виртуального окружения..."
    source venv/bin/activate
fi

# Проверяем наличие зависимостей
echo "Проверка зависимостей..."
pip install -q -r requirements.txt

# Применяем миграции
echo "Применение миграций..."
python manage.py migrate

# Собираем статические файлы
echo "Сбор статических файлов..."
python manage.py collectstatic --noinput

# Запускаем сервер
echo ""
echo "=========================================="
echo "Сервер запущен!"
echo "=========================================="
echo "Сайт: http://127.0.0.1:8000/"
echo "Админка: http://127.0.0.1:8000/admin/"
echo ""
echo "Логин: admin"
echo "Пароль: admin123"
echo "=========================================="
echo ""

python manage.py runserver